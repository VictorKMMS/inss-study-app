<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tutor de Estudos INSS Avan√ßado</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <header>
        <div class="header-content">
            <h1>Tutor de Estudos INSS</h1>
            <div class="header-features">
                <div id="streak-counter" title="Sua sequ√™ncia de dias de estudo">üî• 0</div>
                <button type="button" id="theme-toggle-btn" title="Alternar Modo Noturno">üåô</button>
                <button type="button" id="show-topic-explorer-btn" title="Explorar um T√≥pico com a IA">üß† Explorar</button>
            </div>
        </div>
    </header>

    <div id="main-app">
        <div class="main-container">
            <main>
                <div id="filter-container">
                    <h3>Selecione a Mat√©ria:</h3>
                    <select id="category-selector">
                        <option value="all">Todas as Mat√©rias (Aleat√≥rio)</option>
                        <option value="seguridade">Seguridade Social</option>
                        <option value="administrativo">Direito Administrativo</option>
                        <option value="constitucional">Direito Constitucional</option>
                        <option value="portugues">L√≠ngua Portuguesa</option>
                        <option value="raciocinio">Racioc√≠nio L√≥gico</option>
                        <option value="informatica">Inform√°tica</option>
                        <option value="etica">√âtica</option>
                    </select>
                    <div class="mode-selectors">
                        <div class="review-mode">
                            <input type="checkbox" id="review-mode-toggle">
                            <label for="review-mode-toggle">Revisar apenas erradas</label>
                        </div>
                        <div class="concurso-mode">
                            <input type="checkbox" id="concurso-mode-toggle">
                            <label for="concurso-mode-toggle">Apenas Concurso ‚≠ê</label>
                        </div>
                        <button type="button" id="start-simulado-btn">üöÄ Iniciar Simulado</button>
                        <button type="button" id="show-stats-btn">üìä Ver Estat√≠sticas</button>
                    </div>
                </div>
        
                <div id="flashcard-container"></div>
            </main>

            <aside id="scoreboard">
                <h3>Seu Desempenho</h3>
                <div id="score-container"></div>
                <button type="button" id="reset-score">Zerar Placar</button>
            </aside>
        </div>
    </div>
    
    <div id="chat-modal" class="hidden">
        </div>
    <div id="simulado-modal" class="hidden">
        </div>

    <div id="stats-modal" class="hidden">
        <div id="stats-container">
            <div id="stats-header">
                <h3>Painel de Desempenho</h3>
                <button type="button" id="close-stats-btn">&times;</button>
            </div>
            <div id="stats-content">
                <div class="stats-summary">
                    <div class="stat-box">
                        <h4>Acertos Totais</h4>
                        <p id="stats-total-correct">0</p>
                    </div>
                    <div class="stat-box">
                        <h4>Erros Totais</h4>
                        <p id="stats-total-incorrect">0</p>
                    </div>
                    <div class="stat-box">
                        <h4>Aproveitamento</h4>
                        <p id="stats-accuracy">0%</p>
                    </div>
                </div>
                <div class="stats-chart-container">
                    <h4>Desempenho por Mat√©ria</h4>
                    <canvas id="category-chart"></canvas>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal do Explorador de T√≥picos -->
    <div id="topic-explorer-modal" class="hidden">
        <div id="topic-explorer-container">
            <div id="topic-explorer-header">
                <h3>Tutor IA - Modo Aula</h3>
                <button type="button" id="close-topic-explorer-btn">&times;</button>
            </div>
            <div id="topic-explorer-content">
                <p>Pe√ßa √† IA para explicar qualquer t√≥pico, artigo de lei ou conceito do edital.</p>
                <textarea id="topic-input" rows="4" placeholder="Ex: Me explique o que √© o Per√≠odo de Gra√ßa e d√™ exemplos..."></textarea>
                <button type="button" id="topic-send-btn">Gerar Explica√ß√£o</button>
                <div id="topic-result-area">
                </div>
            </div>
        </div>
    </div>
    
    <footer>
        <p>Desenvolvido com IA para otimizar seus estudos.</p>
    </footer>

    <script type="module" src="scripts.js"></script>
</body>
</html>